{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template profilefield_learningstyles/main

    Example context (json):
    {
        "attributes": [
            {
                "styles": [
                    { "index": 0, "active": true, "items": [
                        { "index": 0, "question": "Question 1", "urla": "http://example.com/a1.jpg", "a": "Option A", "urlb": "http://example.com/b1.jpg", "b": "Option B" },
                        { "index": 1, "question": "Question 2", "urla": "http://example.com/a2.jpg", "a": "Option A", "urlb": "http://example.com/b2.jpg", "b": "Option B" }
                    ] },
                    { "index": 1, "active": false, "items": [
                        { "index": 0, "question": "Question 1", "urla": "http://example.com/a1.jpg", "a": "Option A", "urlb": "http://example.com/b1.jpg", "b": "Option B" },
                        { "index": 1, "question": "Question 2", "urla": "http://example.com/a2.jpg", "a": "Option A", "urlb": "http://example.com/b2.jpg", "b": "Option B" }
                    ] }
                ],
                "feedbacks": [
                    { "style": "visual", "label": "Visual", "levels": [
                        { "level": "low", "text": "Low" },
                        { "level": "medium", "text": "Medium" },
                        { "level": "high", "text": "High" }
                    ] },
                    { "style": "auditory", "label": "Auditory", "levels": [
                        { "level": "low", "text": "Low" },
                        { "level": "medium", "text": "Medium" },
                        { "level": "high", "text": "High" }
                    ] }
                ],
                "views": [
                    { "key": "intro", "label": "Introduction" },
                    { "key": "test", "label": "Test" },
                    { "key": "results", "label": "Results" },
                    { "key": "feedback", "label": "Feedback" },
                    { "key": "end", "label": "End" }
                ]
            },
        ]
    }
}}

<div id="profilefield_learningstyles-index">
    <div class="testcontent">

        <div id="viewslistglobal">
            <ul class="viewslist">
                {{#views}}
                    <li data-changeview="{{key}}">{{label}}</li>
                {{/views}}
            </ul>
        </div>

        <div id="pageslist">
            <div class="onepage pagelarge active" data-type="info">
                <div class="page-header">
                    <h3>{{#str}} testtitle, profilefield_learningstyles {{/str}}</h3>
                </div>
                <div class="page-body">
                    <div>{{#str}} testdescription, profilefield_learningstyles {{/str}}</div>
                    <div class="test-btns">
                        <button class="btn btn-primary" data-go="next">{{#str}} continue, profilefield_learningstyles {{/str}}</button>
                    </div>
                </div>
            </div>
            <div class="onepage pagelarge" data-type="info">
                <div class="page-header">
                    <h3>{{#str}} testtitle, profilefield_learningstyles {{/str}}</h3>
                </div>
                <div class="page-body">
                    {{#str}} testavailables, profilefield_learningstyles {{/str}}
                    <ul>
                        {{#views}}
                            <li>
                                <label>{{label}}</label>
                                <span>{{{description}}}</span>
                                <button class="btn btn-secondary" data-go="next" data-changeview="{{key}}">{{#str}} starttest, profilefield_learningstyles {{/str}}</button>
                            </li>
                        {{/views}}
                    </ul>
                </div>
            </div>

            {{#styles}}
                <div class="onepage {{#active}}active{{/active}}" data-type="style" data-index="{{index}}">
                {{#items}}
                    <div class="eachview" data-view={{key}}>
                        <div class="page-header">
                            <h3>{{name}}</h3>
                        </div>
                        <div class="page-body">
                            <div class="testquestion" data-index="{{index}}">
                                <div class="questionbody">
                                    <label>{{index}}</label>
                                    <p>{{{question}}}</p>
                                </div>
                                <div class="questionoptions">
                                    <div class="optiona">
                                        {{#urla}}
                                        <div class="imagecontainer">
                                            <img src="{{{urla}}}" alt="{{a}}" />
                                        </div>
                                        {{/urla}}
                                        <button data-type="a">{{a}}</button>
                                    </div>
                                    <div class="optionb">
                                        {{#urlb}}
                                        <div class="imagecontainer">
                                            <img src="{{{urlb}}}" alt="{{b}}" />
                                        </div>
                                        {{/urlb}}
                                        <button data-type="b">{{b}}</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {{/items}}
                </div>
            {{/styles}}

            <div class="onepage" data-type="info">
                <div class="page-header">
                    <h3>{{#str}} testdone, profilefield_learningstyles {{/str}}</h3>
                </div>
                <div class="page-body">
                    <p>{{#str}} testdoneinfo, profilefield_learningstyles {{/str}}</p>
                    <div class="test-btns">
                        <button class="btn btn-primary test-btns-save" data-sesskey="{{sesskey}}" data-go="next">
                            {{#str}} continue, profilefield_learningstyles {{/str}}
                        </button>
                    </div>
                </div>
            </div>

            <div class="onepage resultspage" data-type="info">
                <div class="page-header">
                    <h3>{{#str}} testresults, profilefield_learningstyles {{/str}}</h3>
                </div>
                <div class="page-body">
                    <div class="test-results">
                        {{>profilefield_learningstyles/results}}
                        <div class="test-btns">
                            <button class="btn btn-primary" data-go="next">{{#str}} continue, profilefield_learningstyles {{/str}}</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="onepage pagelarge" data-type="info">
                <div class="page-header">
                    <h3>{{#str}} resultstitle, profilefield_learningstyles {{/str}}</h3>
                </div>
                <div class="page-body">
                    <div>
                        {{#feedbacks}}
                            <div class="stylefeedback styleswithexplanation" data-style="{{style}}">
                                <div class="imagecontent imgstyle img{{style}}"></div>
                                <p>
                                    <strong>{{{label}}}</strong>
                                    {{#levels}}
                                        <span data-level="{{level}}">
                                            {{text}}
                                        </span>
                                    {{/levels}}
                                </p>
                            </div>
                        {{/feedbacks}}
                        <div class="test-btns">
                            <button class="btn btn-primary" data-go="previous">{{#str}} goback, profilefield_learningstyles {{/str}}</button>
                            <button class="btn btn-primary" data-go="next">{{#str}} continue, profilefield_learningstyles {{/str}}</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="onepage" data-type="info">
                <div class="page-header">
                    <h3>{{#str}} endpagetitle, profilefield_learningstyles {{/str}}</h3>
                </div>
                <div class="page-body">
                    <p>{{#str}} endpagemessage, profilefield_learningstyles {{/str}}</p>
                    <div class="test-btns">
                        <a href="{{wwwroot}}/user/profile.php" class="btn btn-primary">
                            {{#str}} gotoprofile, profilefield_learningstyles {{/str}}
                        </a>
                    </div>
                </div>
            </div>

        </div>

        <div id="testfooter" style="display: none;">
            <div id="controlbar">
                <button class="toleft"><i class="fa fa-chevron-left"></i></button>
                <button class="toright"><i class="fa fa-chevron-right"></i></button>
                <div id="progressbar">
                    <div id="progressinner"></div>
                </div>
            </div>
        </div>

    </div>
</div>
